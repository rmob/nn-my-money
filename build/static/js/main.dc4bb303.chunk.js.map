{"version":3,"sources":["pages/home/Home.module.css","components/Navbar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/home/Home.js","hooks/useCollection.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","components/Navbar.js","hooks/useLogout.js","App.js","index.js"],"names":["module","exports","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","_ref","children","dispatch","useReducer","useEffect","unsub","onAuthStateChanged","console","log","_jsx","Provider","value","useAuthContext","context","useContext","Error","initialState","document","isPending","error","success","fireStoreReducer","useFirestore","collection","response","isCancelled","setIsCancelled","useState","ref","dispatchIfNotCancelled","addDocument","async","createdAt","fromDate","Date","addedDocument","add","doc","err","message","deleteDocument","id","delete","TransactionForm","uid","name","setName","amount","setAmount","_jsxs","_Fragment","onSubmit","e","preventDefault","required","onChange","target","TransactionList","transactions","className","styles","map","transaction","onClick","Home","documents","useCollection","_query","_orderBy","setDocuments","setError","query","useRef","current","orderBy","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","push","data","container","content","sidebar","Login","email","setEmail","password","setPassword","login","useLogin","setIsPending","res","signInWithEmailAndPassword","disabled","Signup","displayName","setDisplayName","signup","useSignup","createUserWithEmailAndPassword","updateProfile","Navbar","logout","useLogout","signOut","navbar","title","Link","to","App","BrowserRouter","Switch","Route","exact","path","Redirect","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dc4bb303.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__3bftD\",\"content\":\"Home_content__18qU0\",\"sidebar\":\"Home_sidebar__21xz5\",\"transactions\":\"Home_transactions__3_tqr\",\"name\":\"Home_name__4a_Tj\",\"amount\":\"Home_amount__1MW_9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__31-FB\",\"title\":\"Navbar_title__2CGsW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1NBYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__3B7tC\"};","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDFAmYUAUGqwx0uVqLylNr4BA-Dyq_LaBk\",\n    authDomain: \"mymoney-3c818.firebaseapp.com\",\n    projectId: \"mymoney-3c818\",\n    storageBucket: \"mymoney-3c818.appspot.com\",\n    messagingSenderId: \"712082967850\",\n    appId: \"1:712082967850:web:37bfb0974035e7b2c86253\"\n  };\n\n// init firebase\nfirebase.initializeApp(firebaseConfig)\n\n// init service\nconst projectFirestore = firebase.firestore()\nconst projectAuth = firebase.auth()\n\n// timestamp\nconst timestamp = firebase.firestore.Timestamp\n\nexport { projectFirestore, projectAuth, timestamp }","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n    switch (action.type) {\n        case 'LOGIN':\n            return { ...state, user: action.payload }\n        case 'LOGOUT':\n            return { ...state, user: null }\n        case 'AUTH_IS_READY':\n            return { ...state, user: action.payload, authIsReady: true }\n        default:\n            return state\n    }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(authReducer, {\n        user:null,\n        authIsReady: false\n    })\n\n    useEffect(() => {\n        const unsub = projectAuth.onAuthStateChanged((user) => {\n            dispatch({ type: 'AUTH_IS_READY', payload: user})\n            unsub()\n        })\n    }, [])\n    console.log('AuthContext state:', state)\n\n    return (\n        <AuthContext.Provider value={{ ...state, dispatch }}>\n            { children }\n        </AuthContext.Provider>\n    )\n}","import { AuthContext } from \"../context/AuthContext\";\nimport { useContext } from \"react\";\n\nexport const useAuthContext = () => {\n    const context = useContext(AuthContext)\n\n    if (!context) {\n        throw Error('useAuthContext must be inside an AuthContextProvider')\n    }\n\n    return context\n}","import { useReducer, useEffect, useState } from \"react\";\nimport { projectFirestore, timestamp } from '../firebase/config'\n\n\nlet initialState = {\n    document: null,\n    isPending: false,\n    error: null,\n    success: null\n}\n\nconst fireStoreReducer = (state, action) => {\n    switch (action.type) {\n        case 'IS_PENDING':\n            return { isPending: true, document: null, success: false, error: null }\n        case 'ADDED_DOCUMENT':\n            return { isPending: false, document: action.payload, success: true, error: null }\n        case 'DELETED_DOCUMENT':\n            return { isPending: false, document: null, success: true, error: null }\n        case 'ERROR':\n            return { isPending: false, document: null, success: false, error: action.payload }\n        default:\n            return state\n    }\n}\n\nexport const useFirestore = (collection) => {\n    const [response, dispatch] = useReducer(fireStoreReducer, initialState)\n    const [isCancelled, setIsCancelled] = useState(false)\n\n    // collection ref\n    const ref = projectFirestore.collection(collection)\n\n    // only dispatch if not cancelled\n    const dispatchIfNotCancelled = (action) => {\n        if (!isCancelled) {\n            dispatch(action)\n        }\n    }\n\n    // add a document\n    const addDocument = async (doc) => {\n        dispatch({ type: 'IS_PENDING'})\n\n        try {\n            const createdAt = timestamp.fromDate(new Date())\n            const addedDocument = await ref.add({ ...doc, createdAt })\n            dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n           \n        }\n        catch (err) {\n            dispatchIfNotCancelled({ type: 'ERROR', payload: err.message})\n        }\n    }\n\n    // delete a document\n    const deleteDocument = async (id) => {\n        dispatch ({ type: 'IS_PENDING'})\n\n        try {\n            await ref.doc(id).delete()\n            dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT'})\n        }\n        catch(err) {\n            dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\n        }\n    }\n\n    // cleanup function\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { addDocument, deleteDocument, response }\n}","import { useState, useEffect } from 'react'\nimport { useFirestore } from '../../hooks/useFirestore'\n\nexport default function TransactionForm({ uid }) {\n    const [name, setName] = useState('')\n    const [amount, setAmount] = useState('')\n    const { addDocument, response } = useFirestore('transactions')\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        addDocument({\n            uid,\n            name,\n            amount\n        })\n    }\n\n    // reset form fields\n    useEffect(() => {\n        if(response.success) {\n            setName('')\n            setAmount('')\n        }\n    }, [response.success])\n\n  return (\n    <>\n      <h3>Add a Transaction</h3>\n      <form onSubmit={handleSubmit}>\n        <label>\n            <span>Transaction name:</span>\n            <input\n                type='text'\n                required\n                onChange={(e) => setName(e.target.value)}\n                value={name}\n            />\n            <span>Amount ($):</span>\n            <input\n                type='text'\n                required\n                onChange={(e) => setAmount(e.target.value)}\n                value={amount}\n            />\n        </label>\n        <button>Add Transaction</button>\n      </form>\n    </>\n  )\n}\n","import { useFirestore } from '../../hooks/useFirestore'\n\n// styles\nimport styles from '../home/Home.module.css'\n\n\nexport default function TransactionList({ transactions }) {\n  const { deleteDocument, response } = useFirestore('transactions')\n  console.log(response)\n\n  return (\n    <ul className={styles.transactions}>\n        {transactions.map((transaction) => (\n            <li key={transaction.id}>\n                <p className={styles.name}>{transaction.name}</p>\n                <p className={styles.amount}>${transaction.amount}</p>\n                <button onClick={() => deleteDocument(transaction.id)}>x</button>\n            </li>\n        ))}\n    </ul>\n  )\n}\n","// styles\nimport styles from './Home.module.css'\n\n// hooks\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { useCollection } from '../../hooks/useCollection'\n\n// components\nimport TransactionForm from './TransactionForm'\nimport TransactionList from './TransactionList'\n\n\nexport default function Home() {\n  const { user } = useAuthContext()\n  const { documents, error } = useCollection(\n    'transactions',\n    ['uid','==', user.uid],\n    [\"createdAt\", 'desc']\n    )\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        {error && <p>{error}</p>}\n        {documents && <TransactionList transactions={documents}/>}\n      </div>\n      <div className={styles.sidebar}>\n        <TransactionForm uid={user.uid}/>\n      </div>\n    </div>\n  )\n}\n","import { useState, useEffect, useRef } from 'react'\nimport { projectFirestore } from '../firebase/config'\n\nexport const useCollection = (collection, _query, _orderBy) => {\n    const [documents, setDocuments] = useState(null)\n    const [error, setError] = useState(null)\n\n    // if we don't use a ref --> infinite loop in useEffect\n    // _query is an array and is 'different' on every function call\n    // _query wrapped in query is not 'different' on every function call\n    const query = useRef(_query).current\n    const orderBy = useRef(_orderBy).current\n\n    useEffect(() => {\n        let ref = projectFirestore.collection(collection)\n\n        if (query) {\n            ref = ref.where(...query)\n        }\n\n        if (orderBy) {\n            ref = ref.orderBy(...orderBy)\n        }\n\n        const unsubscribe = ref.onSnapshot((snapshot) => {\n            let results = []\n            snapshot.docs.forEach(doc => {\n                results.push({ ...doc.data(), id: doc.id })\n            })\n\n            // update state\n            setDocuments(results)\n            setError(null)\n        }, (error) => {\n            console.log(error)\n            setError('could not fetch the data')\n        })\n\n        // unsubscribe on unmount\n        return () => unsubscribe()\n\n    }, [collection, query, orderBy])\n\n    return { documents, error }\n}","import { useState} from 'react'\nimport { useLogin } from '../../hooks/useLogin'\n\n// styles\nimport styles from './Login.module.css'\n\nexport default function Login() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const { login, error, isPending } = useLogin()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['login-form']}>\n      <h2>Login</h2>\n      <label>\n        <span>email:</span>\n        <input\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input \n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      {!isPending && <button className='btn'>Login</button>}\n      {isPending && <button className='btn' disabled>Loading</button>}\n      {error && <p>{error}</p>}\n    </form>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const login = async (email, password) => {\n        setError(null)\n        setIsPending(true)\n\n        // sign user in\n        try {\n            const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n            // dispatch login action\n            dispatch({ type: 'LOGIN', payload: res.user })\n\n            // update state\n            if (!isCancelled) {\n              setIsPending(false)\n              setError(null)\n            }\n            \n        }\n        catch(err) {\n            if (!isCancelled) {\n                console.log(err.message)\n                setError(err.message)\n                setIsPending(false)\n              }\n           \n        }\n    }\n\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { error, isPending, login }\n}","import { useState } from 'react'\nimport { useSignup } from '../../hooks/useSignup'\n\n// styles\nimport styles from './Signup.module.css'\n\nexport default function Signup() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n  const { signup, isPending, error } = useSignup()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signup(email, password, displayName)\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={styles['signup-form']}>\n      <h2>Signup</h2>\n      <label>\n        <span>email:</span>\n        <input\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>displayName:</span>\n        <input\n          type=\"displayName\"\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      {!isPending && <button className='btn'>Signup</button>}\n      {isPending && <button className='btn' disabled>loading</button>}\n      {error && <p>{error}</p>}\n    </form>\n  )\n}","import { useState, useEffect  } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSignup = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const signup = async (email, password, displayName) => {\n        setError(null)\n        setIsPending(true)\n\n        try {\n            // signup user\n           const res =  await projectAuth.createUserWithEmailAndPassword(email, password)\n\n        // if network error\n           if (!res) {\n            throw new Error('Could not complete signup')\n           }\n\n        //    add display name to user\n        await res.user.updateProfile({ displayName })\n\n        // dispatch login action\n        dispatch({ type: 'LOGIN', payload: res.user })\n\n        // update state\n        if (!isCancelled) {\n            setIsPending(false)\n            setError(null)\n          }\n        }\n        catch (err) {\n            if (!isCancelled) {\n            console.log(err.message)\n            setError(err.message)\n            setIsPending(false)\n          }\n        }\n\n    }\n\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { error, isPending, signup }\n}","import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// styles\nimport styles from './Navbar.module.css'\n\n\nexport default function Navbar() {\n  const { logout } = useLogout()\n  const { user } = useAuthContext()\n\n  return (\n    <nav className={styles.navbar}>\n        <ul>\n            <li className={styles.title}>myMoneyApp</li>\n\n            {!user && (\n              <>\n                <li><Link to=\"/login\">Login</Link></li>\n                <li><Link to=\"/signup\">Signup</Link></li>\n              </>\n            )}\n\n            {user && (\n              <>\n                <li>hello, {user.displayName}</li>\n                <li>\n                  <button className='btn' onClick={logout}>Logout</button>\n                </li>\n              </>\n            )}\n        </ul>\n    </nav>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n    const [isCancelled, setIsCancelled] = useState(false)\n    const [error, setError] = useState(null)\n    const [isPending, setIsPending] = useState(false)\n    const { dispatch } = useAuthContext()\n\n    const logout = async () => {\n        setError(null)\n        setIsPending(true)\n\n        // sign user out\n        try {\n            await projectAuth.signOut()\n\n            // dispatch logout action\n            // don't need payload because you would set it to 'null' and once logged-out user is auto set to null cuz not there \n            dispatch({ type: 'LOGOUT'})\n\n            // update state\n            if (!isCancelled) {\n              setIsPending(false)\n              setError(null)\n            }\n            \n        }\n        catch(err) {\n            if (!isCancelled) {\n                console.log(err.message)\n                setError(err.message)\n                setIsPending(false)\n              }\n           \n        }\n    }\n\n    useEffect(() => {\n        return () => setIsCancelled(true)\n    }, [])\n\n    return { error, isPending, logout }\n}","import { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n\nimport './index.css'\nimport Home from './pages/home/Home'\nimport Login from './pages/login/Login'\nimport Signup from './pages/signup/Signup'\nimport Navbar from './components/Navbar';\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\">\n              {!user && <Redirect to=\"/login\" />}\n              {user && <Home />}\n            </Route>\n            <Route path=\"/login\">\n              {user && <Redirect to=\"/\" />}\n              {!user && <Login />}\n            </Route>\n            <Route path=\"/signup\">\n              {user && <Redirect to=\"/\" />}\n              {!user && <Signup />}\n            </Route>\n          </Switch>\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}